
@{
    ViewBag.Title = "Item";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/jquery-3.4.1.slim.min.js"></script>
<style>
    .wrr {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 10px;
        text-decoration: underline;
    }
</style>
@*<div class="bg-white p-3 border">*@
<div class="row pt-2 pb-2">
    <div class="col-md-12">
        <h3>Declare Form 5 Details</h3>
        <hr>
    </div>
</div>
<div style="border:1px solid black;">
    <header class="site-header">
        <table width="100%">
            <tr>
                <td><img src="data:D:\Kiran_cylsys\Medical R Project\Project1\MedicalR\Includes\img;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAMwAA/+4AIUFkb2JlAGTAAAAAAQMAEAMDBgkAAAdFAAANvgAAE/j/2wCEAAgFBQUGBQgGBggLBwYHCw0KCAgKDQ8MDA0MDA8RDA0NDQ0MEQ8REhMSEQ8XFxkZFxciISEhIiYmJiYmJiYmJiYBCAkJEA4QHRQUHSAaFRogJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJv/CABEIAEEAmQMBEQACEQEDEQH/xADtAAACAgMBAQAAAAAAAAAAAAAABwUGAQIEAwgBAAEFAQEAAAAAAAAAAAAAAAABAgMEBQYHEAAABgEDAwMDBAMAAAAAAAAAAQIDBAUREhQGECAyMRMWQCEVIiU1BzBCJBEAAgEDAgIGBwYEBQUAAAAAAQIDABEEIRIxE0FRYXEiMhCRobHRFAUggUKyIzNScpLCQMHhojTiU5MVNRIAAgEBBgQFBAMAAAAAAAAAAAERIRAgMUFhAkBRgSKRobHREjBg8DLhkiMTAQACAgEDAgcBAQEAAAAAAAEAESExQVFhcRCBIPCRobHB0UDh8f/aAAwDAQACEQMRAAAAf4U7B2uGCxqq7Igpu1KF6JzmFbgMqmEUVMABgTKLeKTrJWWwVnALHj+rg47HlIR2pUlMm3203p/27iMKzAZEAn65PVymXkf3OvRPQMY2a5hZ7rNUcAseP6yp3krPWZXjPHOYN618drKD27h3pgtXem21U1jZUa2RJ0tEruRMzLkQnQMamS9uZDwAFhx/W1ieWqdpicGlVu3Bb0xiXFJ7Xw31Nygj96NmZbqlcSYgMoqs12fTnLTfKHWxNrIe28h4ACw4/ra3JPWOwyNmktjXLDzWgo/bOE+q+TWtWW2mq5ObUdmqrYKzlXrRvrn5fkvr429jvbeQ4ABYcd10RUuxO5R57UU/zl/ohFD7dw1nrMlYjgeQ056IWqoVS4lhquot8cOM5uZDgAK490ZIASkSx8rdgmGNj5U7GLshHyJ3MWJlbLwu8nJ1MXhkLJXUABa6LZ2Bedx0tKZdZKwro474yrWm2eo/glba6j/BUpl5vbGdbHSca3OmoAAAAAAAAAAAAAAAAAAAAH//2gAIAQIAAQUBDslSVbtQ3ahu1DdqG7UNukbZI2yRtkjbJG2SNskbZI2yRtkh1okg0dX/ADbaU4aWFqXNh+yFsrSQLtW4SQ29qM/TDgR6SDBq6v8AnFaQoblJrlSGxJSTvQgt5RGyozS84olMLNQUs1BKjINrM0e+sJ9JXY/5ofc0xY7xEthWFrfYUo8ggr1Y8H/KMJPrGL7r8QXpJ7H/ADjmnVtTBRFCWjQkEFeqHjSRnkRvST5NuaDUvU30k9j/AJhqZpI55BSzUZggtklAo6QphJhCCSFtkobZI0Fjbp6Sew2vsbBEa2NIW1pP2P0rY0j7g0qIvuCyYSkzNOTNScD7giUYLJhaDLsJSTS4vUpxZGp5WpSXiIe6WVrThSyNBOpDaiIvcLU0ZEpTmTW4kE7gJcIOrI/p/wD/2gAIAQMAAQUBDbBGnapG1SNqkbVI2yeuRkZGRkZGRkEfYx4KURA1kRMvawSiPof+IuxjwdUZD2j0tNqDeU9D6kD6mMdC7GPA0Jy84jJOECJCyCuhggYIH2F2MeC8494gbxBpWowroZdDBAy7C7GPALayPYBFjoZ9M9meme7UY1mNZglGNZjX9CQIYGOuOmAYwMDH1P8A/9oACAEBAAEFARNuJTEv5BNHyCcPkE0fn5oK+mZPntzn59cj59cj57cj59cj57dD57dD57dD59cD57dDjXI5li3Hs3F9bU/3F+QzHbXKYRHq7LeE3JjurTnKvLAwMDApqKXbu3PE/wAVWRiRut3w7NkbKrHgrK3Go9e4lPS1/kbCTJaLYulFgQpeYC3Ixl5K9ari1E/W8pgQoNrxSgqZ9Xy+nrK5NfS11ac6viWDF1VwY/JfiHHMz0NInf134dbY/wBxciwvdnza81tzI/uNN1c6O2WAsVyNFdy49XIeGN6OP8/V/wBPA/cVC544tFfUGty4/wBpCtT/APXnh1tv5GYl02TsGwdg0K9033i8lCCtC4VtxSDZTI0dmOxz1X7nwM0/ib+kTcRYdYmDy8vVw/1/134dbb+REitQ46moPLbTbaUkWTxqquT2tY1I5xdPNwuWW0KNaW0qzfq7mdVunz63w3by0Wfzi9BmQ/rvGjq3aRHrVm/jSKurvotkdPYQ7WE3f1i7env62zbI6lS49hRSJ5u0qUSXKeIVlPq4MWxXAgQa2xjzlpeplJkTKGOby6phintoM93rKrb6Lb09RIrqGgq5sHjvF62VX01hxe2fW1x2amBVVFyVrWVM2LyR/jd8pm9q7ebLPj9l+F5FDlzaavoWIUOt4/dtqlcalvuWVFPXF4zVzoJ/Tf/aAAgBAgIGPwEaMjK3L67I21Z8I7hNV2v1JahP6EWZiuslvcmuSmDa9zXyU7X1wf5gJSnDnw9z57tze7RTtWk+tuJUoOSpQbzMbFcZ8Nsxpmd8JZUU9TtddUjPb6e152u1XGVUz0qL/Na92PsLsWtcfYh7UtzfOafmedyLrdquOyHL5dzUGD/uyXV3qFTMjK1XJ5kUMiCbZuQY3K3EnkSSSjp5m18hxmxLMT0NRvmS7HqbdB6ijh//2gAIAQMCBj8BJ4RFScjXgUYJjSzr/A/AiKefAIllKlVTqc+ARQ/byP28jGVwCspC6GXh9mf/2gAIAQEBBj8BqSFQm1DYXvfhevKntryp6jXlT215U9taqnto/pwaEjg3Qe+v24PU3xryQepvjXkg9TfGvJB6m+NeSD1N8a8kHqb415IPUfjXCD1H415YfUfjWQclULo0aQqmly+463v/AA0rOq8pthuu4FRLpG1mGqk9Ppn7x+UVzZm2R8C1uF+u1HJL3gGu5db9g7aZHG2ZSTt606PV000cTh3TzBdbd5oU3eff9l48dkj5QBdpL214WtXzb5POm3qmwLZfF2nWod9uXzY9+7ht3C9+y1ebA/pj+FZTQbeSZpOVs8uzd4dtui1ZbR2EsUkTpfhwkUg96kihCsZgg/T5u5lbdy7cNo/FYXPs9M/ePyitqRRSxyCxWSTaW6wAanihR+VLtmiUjUNH5oz29R6akblsu5DEu4EaydJ7FGppcWKFEhJ0aZwkrn+LZ7h6H7295rGmmxg0skSs7bm1JHHjXy+HHyoljUstyfEb669lGfMg5svNdQ1yPCOA0rEGFDymmZ9+pNwoHX2mnOHDyTKAHNyb276+Xy4+bFuDbbkajgdKx8GCLZjOYd8dzrvazceyv+Gv9TfGshIRtiSWRY16lDEAVnd8X9/2J+8flFNkzqrPbzSahQOq+gonHDSyk+NizhLdSgGhzoyYvxbHfd91zVlCzqoC3P7i9Vz5r0q3Omlzx++n7295rFXqhj/KKyOwRj/aKhP/AHHkf1sawk6o5T6yorKd2Z7ygDcSeC9tYwRmTdNqVJHBT1VhbiWJnj1Y3OmvE+iVuuRz/uNZ3fF/f9ifvH5RV4nMZQ7mKruJUcVAp9uaw3ftfpHwdfHzffTbcxluLR/pk7W6T291GRJmliRdrAptG8njf/Lo9D97e+oGQ3Roksfur5t5JIZGAWXlkeK2g43se6kx4F2xRDYijoA0rHXqgv63/wBKmA8wna/9ItSQ80wPE+9Xtu7CCKxcFZDPyZAWcgDXlluA6vQ38ze81m98X9/2J9fxD8o9HMjMce79wGJX3Hr1tQvLHbp/QS5XqvQSMBIxwA4ehtfxH31yIXSXHHlilG4L/KQQRRROTj3/ABxqS33FyR7KXGhaIxpfV1LMSTuJLbtdaE+UU5iLsGwbRa9+s9dNJiSAb/3I2G5GtwuNPZWkeMD17XPs31/7MMhyyxa5F1uwt5b9VeaD/wAf/VV78dazrdcX9/2Mr6fyTzMRA8khA2m4BsOnppfqOPgSzI0hj5aIpcW4udeFFosCVMcKzfMMi8vw/huDxoZkUHLQsyBXAv4TbovUv0wwlHi33lIXZ+mAT28KnlSLkRYwUu8oUCzX19lRoBAXnG+IWW7jrXrqTAhWNsiHzeAWJHEKbakdNqeQnHCRNskbw2Vv4T20pyeRDv8ALv2i/dUOTyFnjyJEij5aqfPwPdU2ZJjqyQLuYKq3Pdev/mSY8JTeMiWNBGR3io2UwFZztiI2+Jh0L10wnkx4ihCsG2ggnUAivmJuTHBoeY20Lrw1rKTDj2x47KvNAG2S99Vt0fYzsvAiiyY/qCBbs+wx2G3p40MEkSZAR720G576V8nMoXK2yeEG4u3DWocXJULOpYuAb+Zr8RWRNEFSebNlIfcP+NKmy/v0r6zioqR/OHZiXNwUVNq7rcL1gZOZBHDBg4zY6hXDHha57+yszJbGj+UyDujnBF004KvHxHjWXgrDC2PkZYyTLuFyL8Nvd10iRhTgckqduwSb7HizgnadPLX0jC2LzMTIWXJG4WABZjbr41k4uKA08osoJsOPXTrCCuTPDskLOzLut1E2Gp6K+lw5EMSY302Z3LK4LNuB8Vu+vrc7QRvPl7RgsSLjTU3/AA19IMEUeQ300LzMWQ2RjsC3vw8JFZr5iJG+VNzFWM3UDqHd/h//2gAIAQIDAT8QgACidiOxHZJ2CPTgYMuj8TuM7jO4zuM7jO4zuM7zO4xQp8wON/zfr99+iVG7N/iABR8OK7vYiJGAX9314gJ2heL9tx1NDwfj4SReZhxRL2rdM+bctm3RAEvSP6g7u3P39fl+CO2Xu63QrDMpQaTV7dTlAGKLpHGh5WD6wZJDTh/Ry65jqaHg/EShhcuStuVpUVFrLolNa6itqmJBwv0DUruibe74B9f9EonHRunrWX9QyIZgL70t6+nD98RKqi3Rv4OHaWFrecamp4PxHb8zV7x2/aHHs/cAEDiAu+kqUdPTV4Jv7vg+7/RBVKii2gtN8Q3kr/o/4mwanwuDWnU3BO4gSzsqDqaHg/ECK+srioiV2w5+Zo8RrKuJQVf99DRN/d8CPf8A0SyNX17FB0lBq/jQPWo0VTl3FiaHg/EStw9oJzbEbbglQDUd77ItN5/rKm/u+AqsIsOkDbLpCuBGoqUy+CDc9+IAV0ytcw6rY2Lqi4RB3H4l6DEz3iaQWBqLuAnV8DwJ+UDopU2oKaJVDoH0NxRGeX1lCStkuA04lmxspLc8vav7PGiEFaCJc6uKuLZIYFtbQjezr95QrYOf8/8A/9oACAEDAwE/EIOS2/2dxndZ3GdxneYqLLZaWlpaWlpaW9C/UfJ3gNqiZrgAjgfj53FkEU9Nny/E4jLPVXr8jzMEAerVxABqg7Vv5bl5UmNu/wDIqSDuaXeozd8sCOGC5jAqVc2lOkPhD5O8vCL6vEyl1zlqX/sG35mD0D6/2VRNnyw1Npr6Tv0h6HwvkeYdiq7XjpHJW2uj+zLrhjof34mQEBTis9f+cemz5YagMCpv6bJzXofC+w/foLvI3g3Bcv0ddIAoKIsyPlg1LQaly6lpfPoGHwAYtmC7YJyxXLMlWwTyzEsupiNEUCNBBviYikxBv4KYFEFENEY5QGBmKyRJpBZDCCxOUTUD/P8A/9oACAEBAwE/EIssdRgTnT3n/i/1G6sPyczQfZ/qGu2u39Row3oW/MGOADpIfCSNOjTrdr0mQ9M38ovG6SYa5htcwuAtfAMtHC1wSgVVVErk9SMPf5gAyAskWBgaL5g9i5HiQ5OIJQcjSuZ30g8OCylsFGMyxOe0B8nvBMtzDLXpA4O4AaUFVxBV1Xp9stisQuOCLhfey+0egb7lRngdQGZgw6FRoEUvdwJnZOLuVpiLAiBOwEydrK+rNFsyxeZK50cxeGKFaVXxi2GkaV781IvkCqe0Hb0RXh3OfoQ4Xw54Zi3IlwpOuwbRQUhw4OWFWSXhBKXYdaFCDEJFeQ8QGbwwIg1YDjZ5Zho7PuMQ4haipIckS5hweSvcgVpoNlsz0CfKunwKJQgCgLgrAcD7sPppFYKAGuMVGC4sxYdaOGDA0L8HLod0LMKge1WMuXvMe+IQuKkPGf8AZv3HR4LwI/Et+ZLfaOzdx0q1ZrcWqZTURSoxMifTKl1DxAu3eWBl+tNPnXT4FsAHN1gMIH3hWbJSVsMkoaItop1Iw0LKrv1aluMLlI1blrjGp+kZlXY90DcwJsSspbgABNmOFi4DwehZor69Zm3N9VD2LqvIMSyIDEaUKWI9ZkyBop4YAsTVPJsr5d0+AFoHc4hQI2YzvmLk4w+3JSJkvCFS5WZA71NEbWAvPEEc3KsDy90EWhurLbXbtadCOS2KQ9aEiy2keyRCyt1Evg60rVyXBBoB5ImrOFDF1pn/AIB+YvYy30aAwYGZS4Ku+UKhaV5W38xK4OyvHwM+jbwIS2wciVEYUTUFPO5lIR8O4ZCmh4d7ropqGVNFnQxHkXXDEe1CC2WFoC7caEkKhLSrDvA+RhTuNp7Ul9IlD1LWOyPCVsWNvIzVy/X4LW2VopUZV+qo4oCBRRDAKSmdmYr3t9NxqyO0VFc5NYM2mZmfwCYC0IpuEgoxSKH3Fc/BXfdpR5Ggq8blj2M7bgF4LC5xqxNE1riA6XsRTpHcBkgiaiXfltmCoCAe40MpcX0UcJHPsEs3dpOiXBsXiPRWJVmC6C3bpEL96jdBeEWNo4xikL6P2SGDGabBbWNQKbc8XdMC7SX3/AAOgaUGesMptPA2my19IUiQsKgVqxV9YgSoJW6Gii1H+f8A/9k=" /></td>
                <td>
                    <h4>
                        <center>
                            <h6>
                                HALF YEARLY DECLARATION REGARDING RELATIVES WHO ARE ENGAGED <br>
                                IN DEALING IN ANY SECURITIES TRANSACTION AND/OR DISTRIBUTION <br>
                                & SALE OF SECURITIES, UNITS ETC ON BEHALF OF UTI MUTUAL FUND <br>
                                OR ANY OTHER MUTUAL FUNDS
                            </h6>
                            @if (@ViewBag.ElgPrd.Count > 0)
                            {
                                <h6 style="color: blue;"><b id="elg_period">@ViewBag.ElgPrd[0].elg_period</b> </h6>
                            }
                        </center>
                    </h4>
                </td>

            </tr>
        </table>
    </header>
</div>


@{var EmployeeDetails = ViewBag.EmployeeDetails;
    var RelativeDetailsAutoFill = ViewBag.RelativeDetailsAutoFill;
}

<div class="col-md-12" style="margin-top: 9px; margin-bottom: -20px;">

    <h5>
        <input type="checkbox" name="notApplicabl" id="notApplicable" onchange="toggleDiv()">&nbsp;
        <b><label for="notApplicable"> Not Applicable/NIL Declaration</label></b>
    </h5>
</div>

<input type="hidden" value="@EmployeeDetails.employeeCode" id="employeeCode" />

<!-- Assets details start -->
@*<div class="row mt-2 small">
        <div class="row">
            <div class="form-group col-md-4">
                <label>Employee Id </label>
                <input type="text" class="form-control" name="" value="@EmployeeDetails.employeeCode" id="employeeCode" placeholder="" readonly />
            </div>
            <div class="form-group col-md-4">
                <label>Employee Name </label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.employeename" readonly />
            </div>
            <div class="form-group col-md-4">
                <label>Role </label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.role" readonly />
            </div>

        </div>

        <div class="row">
            <div class="form-group col-md-4">
                <label>Group</label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.groups" readonly />
            </div>
            <div class="form-group col-md-4">
                <label>Band</label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.band" readonly />
            </div>
            <div class="form-group col-md-4">
                <label>Designation </label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.designation" readonly />
            </div>

        </div>
        <div class="row">
            <div class="form-group col-md-4">
                <label>DOA</label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.DOA" readonly />
            </div>
            <div class="form-group col-md-4">
                <label>Location</label>
                <input type="text" class="form-control" name="" id="" placeholder="" value="@EmployeeDetails.location" readonly />
            </div>

        </div>
    </div>*@


<!-- Table end -->
<div class="row mt-5" id="boxcontainer">
    @if (RelativeDetailsAutoFill.Count == 0)
    {
        <div class="col-md-12 mainDiv mb-4" style="padding: 18px;">
            <div class="formDiv">
                <div class="removeDiv" style="float: right; display:none;">
                    <button type="button" class="btn btn-primary" onclick="removeRow(this)">-</button>
                </div>

                <br />
                <div style="margin-top: 14px;">
                    @*<h5 class="modal-title" id="exampleModalLabel"><input type="checkbox" id="isSameCompany">&nbsp;  <b> Please select checkbox if your Relative Work on the same Company.</b></h5>*@

                    @*<div class="row">

                            <div class="form-group col-md-4 mb-3">
                                <label>From Date</label>
                                <input type="date" class="form-control" id="fromDate" name="" value="" placeholder="">
                            </div>
                            <div class="form-group col-md-4 mb-3">
                                <label>To Date</label>
                                <input type="date" class="form-control" id="toDate" name="date_f" placeholder="">
                            </div>
                            <div class="form-group col-md-4 mb-3">
                                <label>Action Date</label>
                                <input type="date" class="form-control" id="actionDate" name="date_f" placeholder="">
                            </div>
                        </div>*@

                    <div class="row">
                        @*<div class="form-group col-md-3 mb-3" id="statusdiv">
                                <label>Status</label>
                                <select class="form-select w-100" id="status">
                                    <option value="">Select</option>
                                    @foreach (var item in ViewBag.status)
                                    {

                                        <option value="@item.dropdown_key">@item.dropdown_name </option>
                                    }
                                </select>

                            </div>*@
                        <div class="form-group col-md-4 mb-3 field" id="">
                            <label>Relationship with Employee</label>
                            <select class="form-select" id="relationShipEmployee">
                                <option value="">Select</option>
                                @foreach (var item in ViewBag.RelationList)
                                {
                                    <option value="@item.dropdown_key">@item.dropdown_name </option>
                                }
                            </select>
                        </div>
                        <div class="form-group col-md-4 mb-3 field">
                            <label>Name of the Relative</label>
                            <input type="text" class="form-control" id="nameOfRelative" name="" placeholder="">
                        </div>

                        <div class="form-group col-md-4 mb-3 field">
                            <label>Nature of Engagement</label>
                            <select class="form-select" id="natureEngagement">
                                <option value="">Select </option>
                                @foreach (var item in ViewBag.NatureEngagement)
                                {

                                    <option value="@item.dropdown_key">@item.dropdown_name </option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="row">

                        <div class="form-group col-md-4 mb-3">
                            <label>Firms with which Relative is associated</label>
                            <input type="text" class="form-control" id="institutionFirm" name="" placeholder="">
                        </div>
                        <div class="form-group col-md-4 mb-3">
                            <label>Names of Mutual Funds/AMCs</label>
                            <input type="text" class="form-control" id="namesOfMutualFund" name="" placeholder="">
                        </div>

                        <div class="form-group col-md-4 mb-3">
                            <label>Designation /Agency/ARN Code etc</label>
                            <input type="text" class="form-control" id="designation" name="" value="" placeholder="">
                        </div>
                    </div>

                    <div class="row">


                        <div class="form-group col-md-4 mb-3 field">
                            <label>Place of Posting/Operation</label>
                            <input type="text" class="form-control" id="placeOfPosting" name="" placeholder="">
                        </div>
                    </div>
                    <hr />
                </div>
            </div>
        </div>
        <div class="childDiv" style="padding: 18px; margin-top: -44px">


        </div>

    }
    else
    {
        int counter = 0;
        for (int i = 0; i < RelativeDetailsAutoFill.Count; i++)
        {
            counter++;
            if (counter == 1)
            {
                <div class="col-md-12 mainDiv mb-4" style="padding: 18px;">
                    <div class="formDiv">
                        <div class="removeDiv" style="float: right; display:none;">
                            <button type="button" class="btn btn-primary" onclick="removeRow(this)">-</button>
                        </div>

                        <br />
                        <div style="margin-top: 14px;">

                            <div class="row">

                                <div class="form-group col-md-4 mb-3 field" id="">
                                    <label>Relationship with Employee</label>
                                    <select class="form-select" id="relationShipEmployee">
                                        <option value="">Select</option>
                                        @foreach (var item in ViewBag.RelationList)
                                        {
                                            if (item.dropdown_key == RelativeDetailsAutoFill[i].relationshipEmployee)
                                            {
                                                <option value="@item.dropdown_key" selected>@item.dropdown_name </option>
                                            }
                                            else
                                            {
                                                <option value="@item.dropdown_key">@item.dropdown_name </option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Name of the Relative</label>
                                    <input type="text" class="form-control" id="nameOfRelative" value="@RelativeDetailsAutoFill[i].relativeName" placeholder="">
                                </div>

                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Nature of Engagement</label>
                                    <select class="form-select" id="natureEngagement">
                                        <option value="">Select </option>
                                        @foreach (var item in ViewBag.NatureEngagement)
                                        {
                                            if (item.dropdown_key == RelativeDetailsAutoFill[i].natureOfEngagement)
                                            {
                                                <option value="@item.dropdown_key" selected>@item.dropdown_name </option>
                                            }
                                            else
                                            {
                                                <option value="@item.dropdown_key">@item.dropdown_name </option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="row">

                                <div class="form-group col-md-4 mb-3">
                                    <label>Firms with which Relative is associated</label>
                                    <input type="text" class="form-control" id="institutionFirm" value="@RelativeDetailsAutoFill[i].firmsAssociated" placeholder="">
                                </div>
                                <div class="form-group col-md-4 mb-3">
                                    <label>Names of Mutual Funds/AMCs</label>
                                    <input type="text" class="form-control" id="namesOfMutualFund" value="@RelativeDetailsAutoFill[i].mutualfundName" placeholder="">
                                </div>

                                <div class="form-group col-md-4 mb-3">
                                    <label>Designation /Agency/ARN Code etc</label>
                                    <input type="text" class="form-control" id="designation" name="" value="@RelativeDetailsAutoFill[i].relativeDesignation" placeholder="">
                                </div>
                            </div>

                            <div class="row">


                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Place of Posting/Operation</label>
                                    <input type="text" class="form-control" id="placeOfPosting" value="@RelativeDetailsAutoFill[i].placeOfPosting" placeholder="">
                                </div>
                            </div>
                            <hr />
                        </div>
                    </div>
                </div>

            }
            else
            {
                <div class="childDiv1" style="padding: 18px; margin-top: -44px">
                    <div class="formDiv">
                        <div class="removeDiv" style="float: right; display:block;">
                            <input type="button" class="btn btn-primary" onclick="removeRow(this)" value="-">
                        </div>

                        <br />
                        <div style="margin-top: 14px;">

                            <div class="row">

                                <div class="form-group col-md-4 mb-3 field" id="">
                                    <label>Relationship with Employee</label>
                                    <select class="form-select" id="relationShipEmployee">
                                        <option value="">Select</option>
                                        @foreach (var item in ViewBag.RelationList)
                                        {
                                            if (item.dropdown_key == RelativeDetailsAutoFill[i].relationshipEmployee)
                                            {
                                                <option value="@item.dropdown_key" selected>@item.dropdown_name </option>
                                            }
                                            else
                                            {
                                                <option value="@item.dropdown_key">@item.dropdown_name </option>
                                            }
                                        }
                                    </select>
                                </div>
                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Name of the Relative</label>
                                    <input type="text" class="form-control" id="nameOfRelative" value="@RelativeDetailsAutoFill[i].relativeName" placeholder="">
                                </div>

                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Nature of Engagement</label>
                                    <select class="form-select" id="natureEngagement">
                                        <option value="">Select </option>
                                        @foreach (var item in ViewBag.NatureEngagement)
                                        {
                                            if (item.dropdown_key == RelativeDetailsAutoFill[i].natureOfEngagement)
                                            {
                                                <option value="@item.dropdown_key" selected>@item.dropdown_name </option>
                                            }
                                            else
                                            {
                                                <option value="@item.dropdown_key">@item.dropdown_name </option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="row">

                                <div class="form-group col-md-4 mb-3">
                                    <label>Firms with which Relative is associated</label>
                                    <input type="text" class="form-control" id="institutionFirm" value="@RelativeDetailsAutoFill[i].firmsAssociated" placeholder="">
                                </div>
                                <div class="form-group col-md-4 mb-3">
                                    <label>Names of Mutual Funds/AMCs</label>
                                    <input type="text" class="form-control" id="namesOfMutualFund" value="@RelativeDetailsAutoFill[i].mutualfundName" placeholder="">
                                </div>

                                <div class="form-group col-md-4 mb-3">
                                    <label>Designation /Agency/ARN Code etc</label>
                                    <input type="text" class="form-control" id="designation" name="" value="@RelativeDetailsAutoFill[i].relativeDesignation" placeholder="">
                                </div>
                            </div>

                            <div class="row">


                                <div class="form-group col-md-4 mb-3 field">
                                    <label>Place of Posting/Operation</label>
                                    <input type="text" class="form-control" id="placeOfPosting" value="@RelativeDetailsAutoFill[i].placeOfPosting" placeholder="">
                                </div>
                            </div>
                            <hr />
                        </div>
                    </div>
                </div>
            }
        }
        <div class="childDiv" style="padding: 18px; margin-top: -44px">


        </div>
        <script>
            $(document).ready(function () {
                $('#addRow').removeAttr('disabled');
            })
        </script>
    }



    <br />
    <div class="mt-1">
        <h6 style="float: right;">Add One More Relative &nbsp; <input type="button" class="btn btn-primary" id="addRow" onclick="addRow()" value="+" disabled></h6>

        <div style="border:1px solid black;">
            <div class="p-3">
                @*<p><b>Date :</b><input type="date" id="declarationDate" value="@DateTime.Now.ToString("yyyy-MM-dd")" readonly class="form-control w-25"></p>*@
                <div class="d-flex justify-content-between">
                    <h6><b>Location: </b> @EmployeeDetails.location</h6>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <h6>
                    <b>
                        Signature Of the Employee
                    </b><br>
                    <p align="center">@EmployeeDetails.employeename</p>
                </h6>
            </div>
            <div class="p-3">
                <h5>
                    <strong>Note :-</strong> The definition of the word ‘Relative’ has been revised in terms of the Companies
                    Act,
                    2013 read with Companies (Specification of definitions details) Rules, 2014 to read as under:
                </h5>
                <h5 class="mt-3"><b> (A) Relative,</b> with reference to any person means anyone who is related to another, if</h5>
                <h5>1. They are members of a Hindu undivided family; or</h5>
                <h5>2. They are husband and wife; or</h5>
                <h5>3. One is related to the other in the manner as may be prescribed;</h5>
                <h5 class="mt-3">
                    <b> (B) List of relatives in terms of clause (77) of section 2:-</b> A person shall be deemed to
                    be the relative of another, if he or she is related to another in the following manner,
                    namely:-"
                </h5>
                <h5>1. Father: Provided that the term “Father” includes step-father.</h5>
                <h5>2. Mother: Provided that the term “Mother” includes step-mother.</h5>
                <h5>3. Son: Provided that the term “Son” includes step-son.</h5>
                <h5>4. Son’s wife.</h5>
                <h5>5. Daughter.</h5>
                <h5>6. Daughter’s husband.</h5>
                <h5>7. Brother: Provided that the term “Brother” includes step-brother;</h5>
                <h5>8. Sister: Provided that the term “Sister” includes step-sister.</h5>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 mt-5"> <button class="btn btn-primary" id="submitBtn">Submit</button> <a href="Form_5.html" class="btn btn-primary">Cancel</a> </div>
        </div>
    </div>
</div>

<script>


    $('.field input, .field select').on('keyup change', function () {
        let allFilled = true;
        $('.field input, .field select').each(function () {
            if ($(this).is('input')) {
                if ($(this).val().trim() === '') {
                    allFilled = false;
                    return false;
                }
            } else if ($(this).is('select')) {
                if ($(this).val() === '') {
                    allFilled = false;
                    return false;
                }
            }
        });
        if (allFilled)
            $('#addRow').removeAttr('disabled');
        else
            $('#addRow').attr('disabled', 'disabled');
    });


    function addRow() {
        debugger;
        var html = $(".mainDiv").html();
        $(".childDiv").append(html);

        console.log("mainDiv: ", html);

        $(".childDiv .formDiv .removeDiv").show();


        $('.childDiv .field input, .childDiv .field select').on('keyup change', function () {
            let allFilled = true;

            $('.childDiv .field input, .childDiv .field select').each(function () {
                if ($(this).is('input')) {
                    if ($(this).val().trim() === '') {
                        allFilled = false;
                        return false;
                    }
                } else if ($(this).is('select')) {
                    if ($(this).val() === '') {
                        allFilled = false;
                        return false;
                    }
                }
            });

            if (allFilled)
                $('#addRow').removeAttr('disabled');
            else
                $('#addRow').attr('disabled', 'disabled');
        });


        $('.childDiv .formDiv:last-child input, .childDiv .formDiv:last-child select').val('');

        // Enable or disable the add button initially based on form completion status
        if ($('.childDiv .field input, .childDiv .field select').filter(function () {
            return $(this).val().trim() === '';
        }).length === 0) {
            $('#addRow').removeAttr('disabled');
        } else {
            $('#addRow').attr('disabled', 'disabled');
        }

        $('#addRow').attr('disabled', 'disabled');
    }


    function removeRow(element) {

        $(element).closest('.formDiv').remove();
        $('#addRow').removeAttr('disabled');
    }


    function toggleDiv() {
        var notApplicable = $('#notApplicable').is(":checked");
        if (notApplicable) {

            $(".mainDiv, .childDiv, .childDiv1").hide();
        }
        else {

            $(".mainDiv, .childDiv, .childDiv1").show();
        }
    }

    $("#submitBtn").click(function () {

        var error = false;
        var notApplicable = $('#notApplicable').is(":checked");
        var elg_prd = $("#elg_period").html();
        var employeeCode = $('#employeeCode').val();
        //var declarationDate = $('#declarationDate').val();

        var childObjects = [];
        //var actionDate = $('#actionDate').val();
        var designation = $('#designation').val();
        //var fromDate = $('#fromDate').val();
        var institutionFirm = $('#institutionFirm').val();
        //var isSameCompany = $('#isSameCompany').is(":checked");
        var nameOfRelative = $('#nameOfRelative').val();
        var namesOfMutualFund = $('#namesOfMutualFund').val();
        var natureEngagement = $('#natureEngagement').val();
        var placeOfPosting = $('#placeOfPosting').val();
        //var toDate = $('#toDate').val();
        //var status = $('#status').val();
        var relationShipEmployee = $('#relationShipEmployee').val();

        //var range = elg_prd;

        //var actionDate = range.substring(0, 10);

        if (notApplicable == false) {

            if (relationShipEmployee == "") {

                alert(`Relationship with employee is required`)
                //error = true;
                return
            }
            if (nameOfRelative == "") {

                alert(`Name of Relative is required`)
                //error = true;
                return
            }
            if (natureEngagement == "") {
                alert(`Nature of engagement is required`)

                //error = true;
                return
            }
            if (placeOfPosting == "") {

                alert(`Place of posting is required`)
                return
                //error = true;
            }
        }


        var mainDiv = { 'designation': designation, 'institutionFirm': institutionFirm, 'nameOfRelative': nameOfRelative, 'namesOfMutualFund': namesOfMutualFund, 'natureEngagement': natureEngagement, 'placeOfPosting': placeOfPosting, 'relationShipEmployee': relationShipEmployee }
        childObjects.push(mainDiv);

        $(".childDiv .formDiv, .childDiv1 .formDiv").each(function (index) {

            var childObject = {};

            $(this).find("input, select").each(function () {
                var inputType = $(this).attr("type");
                var inputValue = $(this).val();
                var inputName = $(this).attr("id");
                console.log('inputType ', inputType)
                if (inputType == "checkbox") {
                    childObject[inputName] = $(this).is(":checked");
                }
                else {
                    if (notApplicable == false) {

                        if ((inputName == "nameOfRelative" || inputName == "natureEngagement" || inputName == "relationShipEmployee" || inputName == "placeOfPosting") && (inputValue == "" || inputValue == undefined)) {

                            switch (inputName) {
                                case 'nameOfRelative':
                                    alert(`Name of Relative is required`);
                                    error = true;
                                    return
                                    break;
                                case 'natureEngagement':
                                    alert(`Nature of engagement is required`)
                                    error = true;
                                    return
                                    break;
                                case 'relationShipEmployee':
                                    alert(`Relationship with employee is required`);
                                    error = true;
                                    return
                                    break;
                                case 'placeOfPosting':
                                    alert(`Place of posting is required`);
                                    error = true;
                                    return
                                    break;
                            }

                        }
                        else {
                            childObject[inputName] = inputValue;
                        }
                    }
                }
            });
            childObjects.push(childObject);

        });

        var allDetails = { 'employeeCode': employeeCode, 'not_applicable': notApplicable, 'elg_period': elg_prd, 'RelationDetails': childObjects }

        if (error == false) {
            $(this).attr('disabled', true);

            $.ajax({
                url: "/Form5/AddForm5",
                type: "POST",
                data: allDetails,
                success: function (data) {
                    alert(JSON.stringify(data.Message));
                    location.href = "/Form5";
                    //window.location.reload();
                },
                error: function (err) {
                    console.error(err.message);
                },
            })
        }
    });


</script>
